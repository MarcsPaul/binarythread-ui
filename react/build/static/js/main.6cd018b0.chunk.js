(this.webpackJsonptest_app=this.webpackJsonptest_app||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/nodata.0b823006.png"},40:function(e,t,a){e.exports=a(75)},46:function(e,t,a){},72:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),c=a.n(l),o=a(29),s=a(30),u=a(38),i=a(37),m=a(78),d=a(15),p=(a(46),"Incorrect user name"),b="Password invalid! should contain atleast 8 chars",f=[{label:"Sl No"},{label:"Shortend URL"},{label:"Long URL"},{label:"Creation Date"},{label:"Action"}],E=a(31),h=a.n(E),y=function(e){var t=e.endpoint,a=e.methordType,n=e.body;return h.a[a]("".concat("https://urlshort-sspar.herokuapp.com/api").concat(t),n,{headers:{"Content-Type":"application/json"}}).then((function(e){return 200===e.status?{status:!0,res:e.data}:{status:!1}})).catch((function(){return{status:!1}}))},v=function(e){var t=e.body;return y({endpoint:"/getAllUrls",methordType:"get",body:t})},g=function(e){var t=e.expandedUrl;return y({endpoint:"/generateShortUrl",methordType:"post",body:{expandedUrl:t}})},N=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-9 col-md-7 col-lg-5 mx-auto"},r.a.createElement("div",{className:"card card-signin my-5"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title text-center"},"Sign In"),r.a.createElement(x,{onSubmit:function(t){(function(e){var t=e.body;return y({endpoint:"/login",methordType:"post",body:t})})({body:t}).then((function(t){t.status&&e.history.push({pathname:"/dashboard"})}))}}))))))},x=function(e){var t=e.onSubmit,a=Object(d.a)(),n=a.register,l=a.handleSubmit,c=a.errors,o=p,s=b;return r.a.createElement("form",{className:"form-signin",onSubmit:l(t)},r.a.createElement("div",{className:"form-label-group"},r.a.createElement("input",{type:"email",name:"username",ref:n({required:!0,pattern:/^\S+@\S+$/i}),id:"inputEmail",className:"form-control",placeholder:"Email address",autofocus:!0}),r.a.createElement("label",{for:"inputEmail"},"Email address")),c.username&&o,r.a.createElement("div",{className:"form-label-group"},r.a.createElement("input",{type:"password",name:"password",ref:n({required:!0,minLength:8}),id:"inputPassword",className:"form-control",placeholder:"Password"}),r.a.createElement("label",{for:"inputPassword"},"Password")),c.password&&s,r.a.createElement("button",{className:"btn btn-lg btn-primary btn-block text-uppercase",type:"submit"},"Sign in"))},S=a(3),w=a.n(S),j=a(7),O=a(6),U=a(32),k=a.n(U),C=a(33),L=a.n(C);function T(e){return e.tableBodyConf.length?r.a.createElement("div",{class:"table-wrapper-scroll-y my-custom-scrollbar"},r.a.createElement("table",{className:"table custom-table"},D(e),P(e))):r.a.createElement("div",{className:"no-data"},r.a.createElement("img",{src:k.a,alt:"nodata"}))}var D=function(e){var t=e.tableHeaderConf.map((function(e){var t=e.label;return r.a.createElement("th",null,t)}));return r.a.createElement("thead",null,r.a.createElement("tr",null,t))},P=function(e){var t=e.tableBodyConf,a=e.onDelete,n=t.map((function(e,t){var n=e.expandedUrl,l=e.shortenedUrl,c=e.creationDate,o=e.urlId;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,r.a.createElement("a",{href:"".concat(g),target:"_blank",rel:"noopener noreferrer"},l)),r.a.createElement("td",null,n),r.a.createElement("td",null,L()(c).format("L")),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-primary text-uppercase",onClick:function(){return a(o)}},"Delete")))}));return r.a.createElement("tbody",null,n)};function _(){return r.a.createElement("div",{className:"loading"},r.a.createElement("div",{class:"spinner-border text-primary",role:"status"},r.a.createElement("span",{class:"sr-only"},"Loading...")))}var B=function(e){var t=Object(n.useState)([]),a=Object(O.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),s=Object(O.a)(o,2),u=s[0],i=s[1];Object(n.useEffect)((function(){N()}),[]);var m=Object(d.a)(),p=m.register,b=m.handleSubmit,E=m.errors,h=m.setValue;function N(){return x.apply(this,arguments)}function x(){return(x=Object(j.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,v({body:null});case 3:t=e.sent,c(t.res.body.data),i(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(){var e=Object(j.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t).then((function(e){h("expandedUrl",""),N()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("span",null,"Welcome!"),r.a.createElement("button",{className:"btn btn-xs btn-primary text-uppercase",onClick:function(){e.history.push({pathname:"/"})}},"Log out")),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"dashboard-container"},r.a.createElement("div",{className:"col-sm-9 col-md-9 col-lg-9 mx-auto"},r.a.createElement(I,{onSubmit:S,register:p,handleSubmit:b,errors:E}),u?r.a.createElement(_,null):r.a.createElement(T,{onDelete:function(e){(function(e){var t=e.id,a="".concat("/deleteUrl/").concat(t);return y({endpoint:a,methordType:"delete",body:null})})({id:e}).then((function(e){N()}))},tableBodyConf:l,tableHeaderConf:f})))))},I=function(e){var t=e.onSubmit,a=e.register,n=e.handleSubmit,l=e.errors;e.setValue;return r.a.createElement("div",{className:"convert_url"},r.a.createElement("form",{className:"form-signin",onSubmit:n(t)},r.a.createElement("input",{type:"text",name:"expandedUrl",ref:a({required:!0,pattern:/^\S+$/i}),className:"form-control url_entry",placeholder:"enter your URL"}),l.expandedUrl&&"Enter a valid url",r.a.createElement("button",{className:"btn btn-xs btn-primary text-uppercase",type:"submit"},"Shorten")))},q=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/dashboard",exact:!0,render:function(e){return r.a.createElement(B,e)}}),r.a.createElement(m.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(N,e)}}),r.a.createElement(m.a,{to:"/"})))}}]),a}(n.Component),R=a(10),A=Object(R.a)(),F=a(36);a(70),a(71),a(72),a(73),a(74);c.a.render(r.a.createElement(m.c,{history:A},r.a.createElement(q,null),r.a.createElement(F.a,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.6cd018b0.chunk.js.map